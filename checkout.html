<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="images/favicon.png" type="image/png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Dine | Checkout</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="checkout-page">
  <header>
    <div class="container">
      <h1>ğŸ½ï¸ The Dine</h1>
      <nav>
        <a href="index.html">Home</a>
         <a href="about.html">About</a>
        <a href="menu.html">Menu</a>
        <a href="checkout.html" class="active">Checkout</a>
        <a href="gallery.html">Gallery</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <main class="checkout-container">
    <h2>ğŸ§¾ Checkout Summary</h2>
    <ul id="checkoutItems"></ul>
    <p><strong>Total Price:</strong> Â£<span id="checkoutTotal">0.00</span></p>

    <div class="checkout-actions">
      <a id="whatsappOrder" class="cta-button" href="#">ğŸ’¬ Text Your Order on WhatsApp</a>
    </div>
  </main>
  <script>
    // Load basket from localStorage
    const items = JSON.parse(localStorage.getItem("basket")) || [];
    const list = document.getElementById("checkoutItems");
    const totalEl = document.getElementById("checkoutTotal");
    let total = 0;

    // Display items & calculate total
    items.forEach(item => {
      const li = document.createElement("li");
      li.textContent = `${item.name} - Â£${item.price.toFixed(2)}`;
      total += item.price;
      list.appendChild(li);
    });

    totalEl.textContent = total.toFixed(2);

    // WhatsApp Order Button
    document.getElementById("whatsappOrder").addEventListener("click", () => {
      if (items.length === 0) {
        alert("Your basket is empty!");
        return;
      }

      const orderDetails = items.map(i => `${i.name} - Â£${i.price.toFixed(2)}`).join("%0A");
      const whatsappNumber = "447523435912"; // UK number without + sign
      const message = `Hello, I would like to order:%0A${orderDetails}%0A%0ATotal: Â£${total.toFixed(2)}`;

      // Open WhatsApp
      window.open(`https://wa.me/${whatsappNumber}?text=${message}`, "_blank");

      // Clear basket after sending
      localStorage.removeItem("basket");

      // Optional: refresh page after 1 second
      setTimeout(() => {
        location.reload();
      }, 1000);
    });
  </script>

  <script src="js/script.js"></script>
</body>
</html>

